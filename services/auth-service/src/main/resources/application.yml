# Base configuration - minimal global settings
# Profile-specific overrides are in application-{profile}.yml
# Default profile is set to 'dev' for local development
# Override with --spring.profiles.active=prod for production

server:
  port: 8081

spring:
  application:
    name: auth-service
  
  # Set dev profile as default for local development
  # Override with --spring.profiles.active=prod for production
  profiles:
    active: dev
  
  # Database Configuration (fallback defaults - should be overridden by profiles)
  datasource:
    url: ${DB_URL:jdbc:mysql://localhost:3306/authdb?createDatabaseIfNotExist=true&useSSL=false&allowPublicKeyRetrieval=true}
    username: ${DB_USERNAME:root}
    password: ${DB_PASSWORD:}
    driver-class-name: com.mysql.cj.jdbc.Driver
  
  jpa:
    hibernate:
      ddl-auto: update
    show-sql: true
  
  flyway:
    enabled: true
    baseline-on-migrate: true

# JWT Configuration (fallback defaults - overridden by dev profile)
jwt:
  secret: ${JWT_SECRET:default_jwt_secret_change_me_use_profile_dev_or_prod}
  expiration: ${JWT_EXPIRATION:86400000}  # 24 hours in milliseconds

# Logging defaults
logging:
  level:
    root: INFO
    com.authservice: DEBUG
  pattern:
    console: "%d{yyyy-MM-dd HH:mm:ss} - %msg%n"
